---
phase: 03.1-content-architecture-demo-curation
plan: 01
subsystem: ui
tags: [css-grid, intersection-observer, scroll-observer, split-layout, curation, demo]

requires:
  - phase: 01-design-visual-refresh
    provides: Magazine layout HTML/CSS structure
  - phase: 02.1-kvmr-gvda-event-source-ingestion
    provides: 5-source merged event data
  - phase: 05-ai-concierge
    provides: Chat widget and deep link bridge

provides:
  - Adaptive split layout with sticky map column on desktop
  - IntersectionObserver-driven map sizing (hero/editorial/expanded zones)
  - CulturalMapScrollObserver IIFE module
  - 8 hand-curated demo picks from 5 sources with source badges
  - Feature Picks tab with curated content for committee demo

affects: [04-copy-positioning, 03.1-02 sub-pages]

tech-stack:
  added: []
  patterns: [scroll-sentinel-observer, adaptive-grid-zones, source-badge-attribution]

key-files:
  created:
    - website/cultural-map-redesign-stitch-lab/index-maplibre-map-scroll-observer.js
  modified:
    - website/cultural-map-redesign-stitch-lab/index-maplibre-hero-intent-stitch-frontend-design-pass.html
    - website/cultural-map-redesign-stitch-lab/index-maplibre-hero-intent-stitch-frontend-design-pass.css
    - website/cultural-map-redesign-stitch-lab/index-maplibre-config.js
    - website/cultural-map-redesign-stitch-lab/index-maplibre-bindings.js
    - website/cultural-map-redesign-stitch-lab/index-maplibre.js

key-decisions:
  - "Map column extracted as sticky sibling rather than staying inside .spread"
  - "Scroll sentinels placed before cover-grid (hero), before stack/editorial (editorial), and after stack (expanded)"
  - "Demo picks hand-curated: 2 MUSE + 1 KVMR + 1 GVDA + 1 LibCal + 3 Local assets = 8 picks"
  - "Source badge as colored pill with per-source colors matching brand palette"
  - "Fallback rendering preserved: if DEMO_FEATURED_PICKS empty, original MUSE editorial cards still render"

patterns-established:
  - "Scroll sentinel pattern: invisible divs with data-map-zone attributes trigger IntersectionObserver zone changes"
  - "Source badge pattern: colored pills with per-source colors for content attribution"

duration: 4min
completed: 2026-02-16
---

# Phase 03.1 Plan 01: Content Architecture & Demo Curation Summary

**Desktop adaptive split layout with sticky map responding to scroll context, plus 8 hand-curated Feature Picks from 5 sources (MUSE, KVMR, GVDA, LibCal, Local) for Wed committee demo**

## Performance

- **Duration:** 4 min
- **Started:** 2026-02-16T05:27:56Z
- **Completed:** 2026-02-16T05:32:10Z
- **Tasks:** 2
- **Files modified:** 6

## Accomplishments

- Hub page restructured with 2-column adaptive grid: content left, sticky map right on desktop (>900px)
- IntersectionObserver drives map column sizing through 3 zones: hero (45%), editorial (25%), expanded (65%)
- Feature Picks tab now shows 8 hand-curated items from all 5 event sources with colored source badges
- Click handlers wire picks to appropriate actions: detail panel for assets, MUSE card expansion for editorials, events section scroll for events
- Mobile (<900px) falls back cleanly to single-column block layout

## Task Commits

Each task was committed atomically:

1. **Task 1: Restructure hub HTML/CSS for desktop split layout with adaptive map** - `29bec4d` (feat)
2. **Task 2: Curate featured demo picks from 5 sources and wire into Feature Picks tab** - `b0e59d8` (feat)

## Files Created/Modified

- `website/cultural-map-redesign-stitch-lab/index-maplibre-map-scroll-observer.js` - New IIFE module: IntersectionObserver-driven map zone transitions
- `website/cultural-map-redesign-stitch-lab/index-maplibre-hero-intent-stitch-frontend-design-pass.html` - Restructured: added split-layout wrapper, content-column, map-column, scroll sentinels
- `website/cultural-map-redesign-stitch-lab/index-maplibre-hero-intent-stitch-frontend-design-pass.css` - Added adaptive split layout CSS, demo-pick-card styles, source badge styles
- `website/cultural-map-redesign-stitch-lab/index-maplibre-config.js` - Added DEMO_FEATURED_PICKS array (8 picks) and DEMO_SOURCE_COLORS map
- `website/cultural-map-redesign-stitch-lab/index-maplibre-bindings.js` - Wired CulturalMapScrollObserver.init() into bindEvents
- `website/cultural-map-redesign-stitch-lab/index-maplibre.js` - Replaced renderIntentFeaturePicks with curated picks renderer + fallback

## Decisions Made

- **Map extracted to sticky sibling column:** Rather than keeping map inside `.spread`, it becomes a sibling `map-column` div with `position: sticky`. This allows the map to stay visible across all content sections, not just the spread.
- **3 scroll zones (hero/editorial/expanded):** The plan specified these zones. Sentinel divs placed at section boundaries trigger IntersectionObserver with rootMargin `-20% 0px -60% 0px` for natural feel.
- **8 picks across 5 sources:** Selected downtown-focused, committee-relevant items: Mardi Gras (KVMR), Spring Street Swing Out (GVDA), Baby Storytime (LibCal), Miners Foundry + Nevada Theatre + Broad Street Bistro (Local assets), and 2 MUSE editorials (Cultural Corridors + Rural is the New Cool).
- **MapLibre resize after zone transition:** Added 450ms timeout to trigger map.resize() after CSS grid transition completes, preventing map rendering artifacts.
- **Preserved fallback:** If DEMO_FEATURED_PICKS is empty, original MUSE editorial rendering is maintained.

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered

None.

## User Setup Required

None - no external service configuration required.

## Next Phase Readiness

- Layout ready for deployment to stitch-lab Vercel
- Plan 02 (sub-pages) can build on this structure
- Committee demo on Wed Feb 18 needs visual verification and potential tweaks after viewing in browser

---
*Phase: 03.1-content-architecture-demo-curation*
*Completed: 2026-02-16*
