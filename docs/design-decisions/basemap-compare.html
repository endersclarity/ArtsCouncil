<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basemap Comparison — Nevada County</title>
<link rel="stylesheet" href="https://unpkg.com/maplibre-gl@4.5.0/dist/maplibre-gl.css" />
<script src="https://unpkg.com/maplibre-gl@4.5.0/dist/maplibre-gl.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #111;
    color: #f5f0e8;
    font-family: 'Segoe UI', system-ui, sans-serif;
    padding: 20px;
  }
  h1 {
    text-align: center;
    font-size: 1.5rem;
    margin-bottom: 6px;
    letter-spacing: 0.02em;
  }
  .subtitle {
    text-align: center;
    font-size: 0.85rem;
    color: #999;
    margin-bottom: 20px;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    max-width: 1600px;
    margin: 0 auto;
  }
  .cell {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    border: 2px solid #333;
    transition: border-color 0.3s;
    cursor: pointer;
  }
  .cell:hover { border-color: #c8943e; }
  .cell .map {
    width: 100%;
    height: 280px;
  }
  .cell .label {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.85));
    padding: 24px 12px 10px;
    pointer-events: none;
  }
  .cell .label h3 {
    font-size: 0.95rem;
    margin-bottom: 2px;
  }
  .cell .label p {
    font-size: 0.72rem;
    color: #aaa;
    line-height: 1.3;
  }
  .sync-note {
    text-align: center;
    font-size: 0.75rem;
    color: #666;
    margin-top: 14px;
  }
  @media (max-width: 1000px) {
    .grid { grid-template-columns: repeat(2, 1fr); }
  }
  @media (max-width: 600px) {
    .grid { grid-template-columns: 1fr; }
    .cell .map { height: 220px; }
  }
</style>
</head>
<body>

<h1>Basemap Comparison</h1>
<p class="subtitle">Same location (Nevada County, Sierra foothills) — all with 3D terrain at pitch 35°</p>

<div class="grid" id="grid"></div>
<p class="sync-note">Drag any map — all others follow. Right-click drag to tilt.</p>

<script>
const KEY = 'LrWxywMynJX4Y3SvVJby';

const styles = [
  {
    id: 'dataviz-dark',
    name: 'Dataviz Dark',
    desc: 'Current default. Minimal, dark, data-focused.',
    url: `https://api.maptiler.com/maps/dataviz-dark/style.json?key=${KEY}`
  },
  {
    id: 'satellite-hybrid',
    name: 'Satellite Hybrid',
    desc: 'Real satellite imagery with road & place labels.',
    url: `https://api.maptiler.com/maps/hybrid/style.json?key=${KEY}`
  },
  {
    id: 'outdoor-v2',
    name: 'Outdoor v2',
    desc: 'Colorful topographic. Green forests, blue water, terrain shading.',
    url: `https://api.maptiler.com/maps/outdoor-v2/style.json?key=${KEY}`
  },
  {
    id: 'topo-v2',
    name: 'Topo v2',
    desc: 'Traditional topographic. Contour lines, elevation colors.',
    url: `https://api.maptiler.com/maps/topo-v2/style.json?key=${KEY}`
  },
  {
    id: 'backdrop',
    name: 'Backdrop',
    desc: 'Subdued color. Designed to let data overlays pop.',
    url: `https://api.maptiler.com/maps/backdrop/style.json?key=${KEY}`
  },
  {
    id: 'landscape',
    name: 'Landscape',
    desc: 'Soft natural terrain colors. Gentle, editorial feel.',
    url: `https://api.maptiler.com/maps/landscape/style.json?key=${KEY}`
  },
  {
    id: 'winter-v2',
    name: 'Winter v2',
    desc: 'Mountain-focused. Cool palette, great with 3D terrain.',
    url: `https://api.maptiler.com/maps/winter-v2/style.json?key=${KEY}`
  },
  {
    id: 'streets-v2',
    name: 'Streets v2',
    desc: 'Standard colorful street map. Familiar Google Maps vibe.',
    url: `https://api.maptiler.com/maps/streets-v2/style.json?key=${KEY}`
  },
  {
    id: 'bright-v2',
    name: 'Bright v2',
    desc: 'Vivid, high-contrast colors. Bold and energetic.',
    url: `https://api.maptiler.com/maps/bright-v2/style.json?key=${KEY}`
  },
  {
    id: 'toner-v2',
    name: 'Toner',
    desc: 'Black & white. Newspaper/editorial aesthetic.',
    url: `https://api.maptiler.com/maps/toner-v2/style.json?key=${KEY}`
  },
  {
    id: 'toner-v2-lite',
    name: 'Toner Lite',
    desc: 'Softer black & white. Lighter, more subtle.',
    url: `https://api.maptiler.com/maps/toner-v2-lite/style.json?key=${KEY}`
  },
  {
    id: 'streets-v2-pastel',
    name: 'Streets Pastel',
    desc: 'Muted pastel street map. Soft and approachable.',
    url: `https://api.maptiler.com/maps/streets-v2-pastel/style.json?key=${KEY}`
  },
  {
    id: 'bright-v2-pastel',
    name: 'Bright Pastel',
    desc: 'Soft pastel colors. Gentle but still colorful.',
    url: `https://api.maptiler.com/maps/bright-v2-pastel/style.json?key=${KEY}`
  },
  {
    id: 'topo-v2-pastel',
    name: 'Topo Pastel',
    desc: 'Pastel topographic. Soft contours and elevation.',
    url: `https://api.maptiler.com/maps/topo-v2-pastel/style.json?key=${KEY}`
  },
  {
    id: 'dataviz-light',
    name: 'Dataviz Light',
    desc: 'Light version of current default. Clean, minimal.',
    url: `https://api.maptiler.com/maps/dataviz-light/style.json?key=${KEY}`
  },
  {
    id: 'satellite',
    name: 'Satellite (no labels)',
    desc: 'Pure satellite imagery. No text, just earth.',
    url: `https://api.maptiler.com/maps/satellite/style.json?key=${KEY}`
  }
];

const CENTER = [-120.8, 39.22];
const ZOOM = 9;
const PITCH = 35;
const BEARING = -15;

const maps = [];
let syncing = false;

const grid = document.getElementById('grid');

styles.forEach((s, i) => {
  const cell = document.createElement('div');
  cell.className = 'cell';
  cell.innerHTML = `
    <div class="map" id="map-${i}"></div>
    <div class="label">
      <h3>${s.name}</h3>
      <p>${s.desc}</p>
    </div>
  `;
  grid.appendChild(cell);
});

// Initialize all maps
styles.forEach((s, i) => {
  const m = new maplibregl.Map({
    container: `map-${i}`,
    style: s.url,
    center: CENTER,
    zoom: ZOOM,
    pitch: PITCH,
    bearing: BEARING,
    antialias: true,
    maxPitch: 70,
    attributionControl: false
  });

  m.on('load', () => {
    // Force pitch (style may override)
    m.jumpTo({ pitch: PITCH, bearing: BEARING });

    // Add terrain
    m.addSource('terrain-dem', {
      type: 'raster-dem',
      url: `https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json?key=${KEY}`,
      encoding: 'mapbox'
    });
    m.setTerrain({ source: 'terrain-dem', exaggeration: 2 });
  });

  // Sync movement across all maps
  const syncOthers = () => {
    if (syncing) return;
    syncing = true;
    const center = m.getCenter();
    const zoom = m.getZoom();
    const pitch = m.getPitch();
    const bearing = m.getBearing();
    maps.forEach((other, j) => {
      if (j !== i) {
        other.jumpTo({ center, zoom, pitch, bearing });
      }
    });
    syncing = false;
  };

  m.on('move', syncOthers);
  maps.push(m);
});
</script>

</body>
</html>
